.program led_write
; PIO program for WS2812-compatible DOUT.
; Adapted from https://learn.adafruit.com/intro-to-rp2040-pio-with-circuitpython/using-pio-to-drive-a-neopixel
; Byte order: GRB (why???)
; side_set: [DOUT]

.define public T1 3
.define public T2 3
.define public T3 4

.side_set 1
loop:
  out x, 1           side 0   [T3 - 1]
  jmp !x do_zero     side 1   [T1 - 1]
do_one:
  jmp loop           side 1   [T2 - 1]
do_zero:
  nop                side 0   [T2 - 1]
